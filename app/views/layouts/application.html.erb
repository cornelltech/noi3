<!DOCTYPE html>
<html>
<head>
  <title>Noi3</title>
  <%= csrf_meta_tags %>

  <%= stylesheet_link_tag    'application', media: 'all' %>
  <%= javascript_include_tag 'application' %>
  <script src="https://use.typekit.net/ioh1apd.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

</head>

<body>
  <header class="top-bar">
    <h1 class="top-bar__logo"><%= image_tag("noi-logo-white.svg", :alt => "Network of Innovators") %></h1>

    <form class="top-bar__search search search--negative search--fixed js-target-search" action="">
      <input class="search__field" type="text">
      <input class="js-search-submit js-trigger-search search-trigger" type="submit" value="search">
    </form>
    <!-- Auth header -->
    <% if user_signed_in? %>

    <div class="top-bar__user-menu user-menu">
      <!-- {# use "user-menu__item--highlighted" class when we have notifications for the user #} -->
      <span class="user-menu__item user-menu__item--messages user-menu__item--highlighted"><i class="material-icons">chat</i></span>
      <span class="user-menu__item user-menu__item--notifications"><i class="material-icons">notifications_none</i></span>
      <span class="user-menu__item user-menu__item--settings"><img src="images/users/128.jpg" alt=""></span>
    </div>
<!-- TEMP - for testing -->
      Hi <strong> <%= current_user.first_name %></strong>.
      <%= link_to "Edit Account", fetch_edit_account_path, :remote => true %>  |
      <%= link_to "Logout", destroy_user_session_path, method: :delete %>
    <% else %>
    <div class="top-bar__user-menu user-menu">
      <span class="button"><%= link_to "Sign up", fetch_sign_up_path, :remote => true %></span><span class="button"><%= link_to "Login", fetch_log_in_path, :remote => true %></span>
    </div>
    <% end %>

  </header>

  <main class="app-wrapper">
    <nav class="main-menu">
      <a href="<%= root_path %>" class="main-menu__item <%= current_class?('/') %>" title="Ask a Question"><i class="material-icons">chat</i></a>
      <a href="<%= users_path %>" class="main-menu__item <%= current_class?('/search') %>" title="Find Innovators"><i class="material-icons">search</i></a>
      <a href="<%= DISCOURSE_CONFIG[:url] %>" class="main-menu__item" title="Discuss"><i class="material-icons">forum</i></a>
      <a href="/match-me" class="main-menu__item <%= current_class?('/matches') %><%= current_class?('/match-me') %>" title="Match Me"><i class="material-icons">people</i></a>
      
    </nav>

    <%# render 'devise/sessions/new' %>
    <%# render 'devise/registrations/new' %>
<!--     <% flash.each do |key, value| %>
      <div class="alert alert-<%= key %>"><%= value %></div>
    <% end %> -->

    <%= yield %>

  </main>
  <div id="overlay" class="js-overlay"></div>
  <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.2.0/list.min.js"></script>

</body>
</html>
